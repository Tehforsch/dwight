pub const NUM_ENTRIES: usize = 64;
pub const LOOKUP_TABLE: [f32; NUM_ENTRIES] = [
    0.0,
    0.0009765625,
    0.0009765625,
    0.001953125,
    0.001953125,
    0.001953125,
    0.001953125,
    0.001953125,
    0.0029296875,
    0.0029296875,
    0.0029296875,
    0.00390625,
    0.00390625,
    0.0048828125,
    0.0048828125,
    0.005859375,
    0.005859375,
    0.0068359375,
    0.0078125,
    0.0087890625,
    0.009765625,
    0.0107421875,
    0.01171875,
    0.0126953125,
    0.0146484375,
    0.0166015625,
    0.0185546875,
    0.0205078125,
    0.0224609375,
    0.025390625,
    0.0283203125,
    0.03125,
    0.03515625,
    0.0390625,
    0.04296875,
    0.0478515625,
    0.0537109375,
    0.0595703125,
    0.06640625,
    0.07421875,
    0.0830078125,
    0.091796875,
    0.1025390625,
    0.1142578125,
    0.1279296875,
    0.142578125,
    0.158203125,
    0.1767578125,
    0.197265625,
    0.2197265625,
    0.244140625,
    0.2724609375,
    0.3037109375,
    0.337890625,
    0.376953125,
    0.419921875,
    0.4677734375,
    0.521484375,
    0.5810546875,
    0.6474609375,
    0.7216796875,
    0.8046875,
    0.896484375,
    0.9990234375,
];

pub fn brightness_to_voltage(brightness: f32) -> f32 {
    let index = ((brightness * NUM_ENTRIES as f32) as usize).clamp(0, NUM_ENTRIES - 1);
    LOOKUP_TABLE[index]
}
